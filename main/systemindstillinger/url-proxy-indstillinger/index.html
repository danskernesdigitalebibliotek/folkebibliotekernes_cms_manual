<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Opsæt proxy URL’er - Folkebibliotekernes CMS</title>
<meta name="description" content="Formålet med fjernadgang er at give biblioteksbrugerne adgang hjemmefra til elektroniske ressourcer - databaser, e-tidsskrifter osv. - som bibliotekerne har købt adgang til.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Folkebibliotekernes CMS">
<meta property="og:title" content="Opsæt proxy URL’er">
<meta property="og:url" content="https://danskernesdigitalebibliotek.github.io/folkebibliotekernes_cms_manual/main/systemindstillinger/url-proxy-indstillinger/">


  <meta property="og:description" content="Formålet med fjernadgang er at give biblioteksbrugerne adgang hjemmefra til elektroniske ressourcer - databaser, e-tidsskrifter osv. - som bibliotekerne har købt adgang til.">







  <meta property="article:published_time" content="2024-02-07T13:45:51+00:00">






<link rel="canonical" href="https://danskernesdigitalebibliotek.github.io/folkebibliotekernes_cms_manual/main/systemindstillinger/url-proxy-indstillinger/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "https://danskernesdigitalebibliotek.github.io/folkebibliotekernes_cms_manual/main/"
    
  }
</script>







<!-- end _includes/seo.html -->




<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/folkebibliotekernes_cms_manual/main/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <link rel="apple-touch-icon" sizes="180x180" href="/folkebibliotekernes_cms_manual/main/assets/images/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/folkebibliotekernes_cms_manual/main/assets/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/folkebibliotekernes_cms_manual/main/assets/images/favicon-16x16.png">
<link rel="manifest" href="/folkebibliotekernes_cms_manual/main/assets/images/site.webmanifest">
<link rel="mask-icon" color="#5bbad5" href="/folkebibliotekernes_cms_manual/main/assets/images/safari-pinned-tab.svg">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
  </head>

  <body class="layout--single wide">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/folkebibliotekernes_cms_manual/main/"><img src="/folkebibliotekernes_cms_manual/main/assets/images/layout/ddf-logo-small.png" alt="Folkebibliotekernes CMS"></a>
        
        <a class="site-title" href="/folkebibliotekernes_cms_manual/main/">
          Folkebibliotekernes CMS
          <span class="site-subtitle">via foreningen Det Digitale Folkebibliotek</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/folkebibliotekernes_cms_manual/main/hurtigguide-til-manualen">Hurtigguide til manualen</a>
            </li><li class="masthead__menu-item">
              <a href="/folkebibliotekernes_cms_manual/main/emneord">Emneoversigt</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      




  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/folkebibliotekernes_cms_manual/main/" itemprop="item"><span itemprop="name">Home</span></a>

          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/folkebibliotekernes_cms_manual/main/systemindstillinger" itemprop="item"><span itemprop="name">Systemindstillinger</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Opsæt proxy URL'er</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  
  <div class="sidebar sticky">
  

  

  
    
    


    
    

    
    

    
    

    
   

  <nav class="nav__list">
    <input id="ac-toc" name="accordion-toc" type="checkbox" />
    <label for="ac-toc">Toggle Menu</label>
    <ul class="nav__items">

      
      

        
        <li>
          <span class="nav__sub-title">Biblioteksindstillinger</span>        
          <ul>
            
            
            

            
              
                <li><a href="/folkebibliotekernes_cms_manual/main/systemindstillinger/generelle-indstillinger/">Generelle indstillinger</a></li>
              
            
          </ul>
        </li>
        
      
      

        
        <li>
          <span class="nav__sub-title">Personer</span>        
          <ul>
            
            
            

            
              
                <li><a href="/folkebibliotekernes_cms_manual/main/systemindstillinger/brugeroprettelse/">Brugeroprettelse</a></li>
              
            
              
                <li><a href="/folkebibliotekernes_cms_manual/main/systemindstillinger/viderestilling-til-adgangsplatformen/">Indstillinger for viderestilling af bruger til Adgangsplatformen</a></li>
              
            
          </ul>
        </li>
        
      
      

        
        <li>
          <span class="nav__sub-title">Region og sprog</span>        
          <ul>
            
            
            

            
              
                <li><a href="/folkebibliotekernes_cms_manual/main/systemindstillinger/oversaettelse-af-brugergraenseflade/">Oversættelse af brugergrænseflade</a></li>
              
            
          </ul>
        </li>
        
      
      

        
        <li>
          <span class="nav__sub-title">System</span>        
          <ul>
            
            
            

            
              
                <li><a href="/folkebibliotekernes_cms_manual/main/systemindstillinger/mapp-intelligence/">Mapp Intelligence</a></li>
              
            
          </ul>
        </li>
        
      
      

        
        <li>
          <span class="nav__sub-title">Web-services</span>        
          <ul>
            
            
            

            
              
                <li><a href="/folkebibliotekernes_cms_manual/main/systemindstillinger/fbs-indstillinger/">FBS indstillinger</a></li>
              
            
              
                <li><a href="/folkebibliotekernes_cms_manual/main/systemindstillinger/openid-connect/">OpenID connect (Adgangsplatformen)</a></li>
              
            
              
                <li><a href="/folkebibliotekernes_cms_manual/main/systemindstillinger/url-proxy-indstillinger/" class="active">Opsæt proxy URL'er</a></li>
              
            
              
                <li><a href="/folkebibliotekernes_cms_manual/main/systemindstillinger/publizon-indstillinger/">Publizon indstillinger</a></li>
              
            
              
                <li><a href="/folkebibliotekernes_cms_manual/main/systemindstillinger/rss-udgivelse/">RSS udgivelse</a></li>
              
            
          </ul>
        </li>
        
           
    </ul>
  </nav>
  

  </div>


  
  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Opsæt proxy URL’er">
    <meta itemprop="description" content="Formålet med fjernadgang er at give biblioteksbrugerne adgang hjemmefra til elektroniske ressourcer - databaser, e-tidsskrifter osv. - som bibliotekerne har købt adgang til.">
    
    

    <div class="page__inner-wrap">
      
        <header>
          
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="https://danskernesdigitalebibliotek.github.io/folkebibliotekernes_cms_manual/main/systemindstillinger/url-proxy-indstillinger/" class="u-url" itemprop="url">Opsæt proxy URL’er
</a>
          </h1>
          


          <p class="emneord">
  
  
  <a href="/folkebibliotekernes_cms_manual/main/emneord/elektroniske-ressourcer/" class="btn btn--inverse btn--small">Elektroniske ressourcer</a>
  
  <a href="/folkebibliotekernes_cms_manual/main/emneord/fjernadgang/" class="btn btn--inverse btn--small">Fjernadgang</a>
  
  <a href="/folkebibliotekernes_cms_manual/main/emneord/x-mangler-billede/" class="btn btn--inverse btn--small">X mangler billede</a>
  
</p>








        </header>
      
      
      <section class="page__content e-content" itemprop="text">
        
        <p>Formålet med fjernadgang er at give biblioteksbrugerne adgang hjemmefra til elektroniske ressourcer - databaser, e-tidsskrifter osv. - som bibliotekerne har købt adgang til.</p>

<p>Udbyderne af elektroniske ressourcer tilbyder som regel kun adgang fra bestemte IP-adresser, f.eks. dem på biblioternes fysiske adresser. Men udbyderne kender ikke bibliotekets lånere og deres IP-adresser, og det er her at fjernadgangsproxyen kommer ind i billedet. Proxyen kan optræde som “mellemmand” mellem bibliotekslånere og udbyder.</p>

<p>Proxyen får det til at se ud som om at al trafikken fra biblioteksbrugerne kommer fra én bestemt IP-adresse, nemlig proxyens. Den sikrer også at det kun er bibliotekets brugere, typisk kommunens borgere, som har adgang. For at det kan fungere er det nødvendigt at omskrive links til de elektroniske ressourcer, så brugerne kommunikerer med proxyen i stedet for direkte med udbyderne.</p>

<h2 id="url-omskrivning">URL omskrivning</h2>

<p>Et link uden fjernadgang ser sådan ud:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://www.pressreader.com
</code></pre></div></div>
<p>Et link omskrevet med fjernadgang ser sådan ud:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>https://bib123.bibbaser.dk/login?url=https://www.pressreader.com
</code></pre></div></div>
<p>Den del som er blevet tilføjet i starten af linket - <code class="language-plaintext highlighter-rouge">https://bib123.bibbaser.dk/login?</code> - er et <strong>proxy prefix</strong>. Det sikrer at man i stedet for at ramme PressReader direkte bliver sendt til proxyløsningen. Det trecifrede tal i proxy prefix’et er kommunenummeret - svarende til ciffer 2-4 i biblioteksnummeret - altså i dette tilfælde 123 fra det hypotetiske biblioteksnummer 712300</p>

<p>Idet man kontakter proxyen bliver det checket om man kommer fra en af bibliotekets egne IP-adresser. Gør man det, kommer man direkte til ressourcen, men sidder man f.eks. hjemme, skal man være logget ind (via adgangsplatformen). Er man ikke allerede logget ind bliver man bedt om det. Derefter bliver man ledt videre til e-ressourcen, men via proxyen, således at brugerens browser kommunikerer med proxyen, som så kommunikerer videre med udbyderen.</p>

<p>Proxyen omskriver automatisk alle links på udbyderens website, så de peger tilbage på proxy’en i stedet for direkte på e-ressourcen. Det giver nogle lidt spøjse links som <code class="language-plaintext highlighter-rouge">https://www-pressreader-com.bib123.bibbaser.dk/catalog</code>. Lad endelig være med at bruge disse links direkte på jeres egen hjemmeside - brug altid proxy-prefix klistret foran den “oprindelige” url.</p>

<p class="notice--info"><strong>TIP</strong>:  Links på e-materiale siderne omskrives ikke automatisk. I skal huske at bruge URL’er med “proxy prefix”, når I linker til eressourcer rundt omkring på sitet - ikke mindst e-materiale-siderne.</p>

<p>Den nationale proxyløsning er bygget på ezproxy. Den drives af DBC for DDF.</p>

<h2 id="proxy-indstillinger">Proxy indstillinger</h2>
<p>Når proxyen er opsat korrekt vil links til eressourcer i søgeresultater automatisk blive omskrevet.</p>

<h3 id="her-finder-du-proxy-indstillingerne">Her finder du proxy indstillingerne</h3>
<p>I topmenuen klik på Indstillinger. <br />
Vælg dernæst Web-services &gt; Opsæt proxy URL’er</p>

<p>Eller åbn via direkte link (udskift mit-domænenavn.dk):</p>

<p class="notice--primary">https://mit-domænenavn<code class="language-plaintext highlighter-rouge">/admin/config/services/dpl-url-proxy</code></p>

<h3 id="guide-til-at-oprette-proxy-indstillinger">Guide til at oprette proxy indstillinger</h3>

<table>
  <thead>
    <tr>
      <th>Feltnavn</th>
      <th>Værdi</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Præfiks til proxy-serverens URL</td>
      <td>Udfyldes med <code class="language-plaintext highlighter-rouge">https://bib123.bibbaser.dk/login?</code> BEMÆRK! I skal udskifte <code class="language-plaintext highlighter-rouge">123</code> med jeres kommunenummer - svarende til ciffer 2-4 i biblioteksnummeret</td>
    </tr>
    <tr>
      <td>Hostnames / Værtsnavne</td>
      <td>Her skrives de hostnavne/værtsnavne, som skal genkendes og omskrives til at pege mod fjernadgangsproxyen. Værtsnavnene kan normalt findes i ERMS. Er der ikke nogen anden dokumentation på hvilket værtsnavn, man skal angive, kan man aflure navnet ved at holde musecursoren over “Online”-linket på en post fra den pågældende brøndkilde</td>
    </tr>
    <tr>
      <td>Replacement</td>
      <td>Visse kilder kræver yderligere opsætning, da url’erne skal omskrives med f.eks. en biblioteksspecifik identifier/kode. De kilder der kræver replacement er beskrevet herunder.</td>
    </tr>
  </tbody>
</table>

<h2 id="elektroniske-ressourcer-der-kræver-særlig-opsætning">Elektroniske ressourcer der kræver særlig opsætning</h2>
<h3 id="proquest-ebook-central-ebrary">Proquest Ebook Central (Ebrary)</h3>
<p>Proquest Ebook Central - før Ebrary - kræver særlig opsætning, da der i url’en indgår et biblioteksspecifikt ID.
Biblioteker, som alene skal have adgang til “Ebook Central Plus” kan nøjes med at udfylde “Værtsnavn”:</p>

<p><strong>Værtsnavn:</strong> ebookcentral.proquest.com
<br />
<strong>Regulært udtryk:</strong> /[PROVIDERSLIBRARYID]/
<br />
<strong>Replacement:</strong> myproquestebooksid</p>

<p>Teksten “myproquestebooksid” i ovenstående eksempel erstattes med bibliotekets ID.</p>

<p>En formentlig ukomplet liste over bibliotekernes ID’er findes nedenfor:</p>

<ul>
  <li>arhus-ebooks</li>
  <li>fredrikshavn-ebooks</li>
  <li>vordingborg-ebooks</li>
  <li>aabenraa-ebooks</li>
  <li>billundbib-ebooks</li>
  <li>esbjerg-ebooks</li>
  <li>fmbib-ebooks</li>
  <li>faxe-ebooks</li>
  <li>fredensborgbibliotekerne-ebooks</li>
  <li>fredericiabib-ebooks</li>
  <li>frederikssunddk-ebooks</li>
  <li>gladsaxebib-ebooks</li>
  <li>glostrup-ebooks</li>
  <li>halsnaes-ebooks</li>
  <li>horsholm-ebooks</li>
  <li>herlev-ebooks</li>
  <li>herning-ebooks</li>
  <li>horsens-ebooks</li>
  <li>koegebib-ebooks</li>
  <li>kolding-ebooks</li>
  <li>lollandbib-ebooks</li>
  <li>lyngbybib-ebooks</li>
  <li>randers-ebooks</li>
  <li>roskilde-ebooks</li>
  <li>rudersdal-ebooks</li>
  <li>silkeborg-ebooks</li>
  <li>slagelsedk-ebooks</li>
  <li>svendborgbib-ebooks</li>
  <li>taarnby-ebooks</li>
  <li>tbib-ebooks</li>
  <li>viborg-ebooks</li>
</ul>

<h3 id="gale">Gale</h3>
<p>Gale kræver særlig opsætning, da der i url’en indgår en parameter med et biblioteksspecifikt ID - et Gale ID:</p>

<p><strong>Værtsnavn:</strong> link.galegroup.com
<br />
<strong>Regulært udtryk:</strong> /[PROVIDERSLIBRARYID]/
<br />
<strong>Replacement:</strong> mygaleid</p>

<p><strong>Værtsnavn:</strong> link.gale.com
<br />
<strong>Regulært udtryk:</strong> /[PROVIDERSLIBRARYID]/
<br />
<strong>Replacement:</strong> mygaleid</p>

<p>(Teksten “mygaleid” i ovenstående eksempel erstattes med bibliotekets Gale ID. Find det i ERMS)</p>

<h3 id="mango-languages">Mango languages</h3>
<p>Mango languages skal håndteres på samme måde som Gale. Men bibliotekets identifier kan godt hedde noget andet end for Gale. Se efter den konkrete værdi i ERMS</p>

<h2 id="hvordan-ved-jeg-om-jeg-har-gjort-det-rigtigt">Hvordan ved jeg, om jeg har gjort det rigtigt?</h2>
<p>Fremsøg på jeres hjemmeside en post fra den e-ressource, som du vil tjekke.</p>

<p>Hold musen hen over Se online knappen og verificer at URL’en er omskrevet, så det peger på proxy-URL’en.</p>

<p>Tjek også at Se online knappen faktisk virker.</p>

<p>INDSÆT SKÆRMBILLEDE</p>

<h2 id="hvordan-virker-replacement-for-nørderne">Hvordan virker replacement? (For nørderne)</h2>
<p>Sektionen “Replacement” er en slags søg- og erstat-funktion. I “Regulært udtryk” beskrives hvad man leder efter. Bemærk at der ikke er tale om en almindelig tekst, men et regulært udtryk - se evt. http://en.wikipedia.org/wiki/Regular_expression . Det betyder blandt andet at man starter og slutter med skråstreg - “/”, og at visse tegn skal forsynes med et en foranstillet backslash “\”.”Replacement” er en næsten normal tekststreng, idet man dog kan bruge $1, $2 osv. til at angive delstrenge som er blevet matchet (captured) i det regulære udtryk ovenfor. Lyder det for indviklet, så lev med at låne andres eksempler ;-)</p>


        
      </section>

      <footer class="page__meta">
        
        


        

      </footer>

      

    </div>

    
  </article>

  
  
</div>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><div class="search-searchbar"></div>
  <div class="search-hits"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
  </ul>
</div>
<div class="page__footer-copyright">
  Folkebibliotekernes CMS udvikles af <a href="https://detdigitalefolkebibliotek.dk/">Det Digitale Folkebibliotek</a><br/>
</div>

      </footer>
    </div>

    
  <script src="/folkebibliotekernes_cms_manual/main/assets/js/main.min.js"></script>


<!-- Including InstantSearch.js library and styling -->
<script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.3.3/dist/instantsearch-theme-algolia.min.css">

<script>
// Instanciating InstantSearch.js with Algolia credentials
const search = instantsearch({
  appId: 'TVP7W0OS24',
  apiKey: 'e8c5920789ad3f6d57903b6edc107af5',
  indexName: 'prod_folkebibliotekernes_cms_manual',
  searchParameters: {
    restrictSearchableAttributes: [
      'title',
      'content'
    ]
  }
});

const hitTemplate = function(hit) {
  const url = hit.url;
  const hightlight = hit._highlightResult;
  const title = hightlight.title && hightlight.title.value  || "";
  const content = hightlight.html && hightlight.html.value  || "";

  return `
    <div class="list__item">
      <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
        <h2 class="archive__item-title" itemprop="headline"><a href="/folkebibliotekernes_cms_manual/main${url}">${title}</a></h2>
        <div class="archive__item-excerpt" itemprop="description">${content}</div>
      </article>
    </div>
  `;
}

// Adding searchbar and results widgets
search.addWidget(
  instantsearch.widgets.searchBox({
    container: '.search-searchbar',
    poweredBy: true,
    placeholder: 'Enter your search term...'
  })
);
search.addWidget(
  instantsearch.widgets.hits({
    container: '.search-hits',
    templates: {
      item: hitTemplate,
      empty: 'No results',
    }
  })
);

// Starting the search only when toggle is clicked
$(document).ready(function () {
  $(".search__toggle").on("click", function() {
    if(!search.started) {
      search.start();
    }
  });
});
</script>








  </body>
</html>
